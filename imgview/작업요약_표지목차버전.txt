=================================================================
                           MIDASCM
                    이미지 갤러리 개발 작업 보고서
=================================================================

문서명: 질문/처리 내역 정리본 (표지/목차 포함)
작성일: 2026-02-21
작성대상: imgview (Django)


[목차]
1. 프로젝트 개요
2. 질문별 처리 내역
3. 권한 및 운영 정책 요약
4. 검증/마이그레이션 이력
5. 현재 기능 체크리스트
6. 파일 변경 범주 요약


1. 프로젝트 개요
- Django 기반 이미지 갤러리 앱 구축
- 사용자 인증(로그인/회원가입) 및 관리자 승인 가입 정책 적용
- 이미지/분류에 대한 작성자 기반 권한 제어 적용
- 목록/상세/수정/삭제/분류관리까지 웹 UI로 통합


2. 질문별 처리 내역
[01] django로 이미지 저장/출력 앱 만들어줘
- config 프로젝트 + gallery 앱 생성
- ImageItem 모델, 업로드/목록/상세 구현
- MEDIA 설정/URL 연결, 마이그레이션 적용

[02] head 메뉴 만들어줘
- base.html 도입
- 상단 공통 네비게이션 구성

[03] 로그인 만들어줘
- 로그인/로그아웃 기능 구현
- 업로드 페이지 로그인 필수화

[04] 이미지 업로드기 분류목록 추가해줘
- Category 모델 추가
- ImageItem.category FK 연결
- 목록 분류 필터/상세 분류 표시 구현

[05] 분류 CRUD를 일반 페이지에서 가능하게
- /categories/ 목록
- /categories/new/ 추가
- /categories/<id>/edit/ 수정
- /categories/<id>/delete/ 삭제

[06] 분류 권한 제한(작성자/특정 권한)
- Category.created_by 추가
- can_manage_all_categories 권한 추가
- 작성자 또는 권한자만 수정/삭제 허용

[07] 이미지 분류 수정
- /images/<id>/category/ 추가
- 목록/상세에서 분류 수정 링크 연결

[08] 로고 MIDASCM 변경
- 헤더 로고 텍스트 교체

[09] 로고 무지개색 디자인
- rainbow gradient 스타일 적용

[10] 지금까지 내용 정리
- 기능/권한/마이그레이션 상태 요약 제공

[11] 이미지 권한 제한 강화
- ImageItem.created_by 추가
- can_manage_all_images 권한 추가
- 이미지 분류 수정 권한 제한 적용

[12] 회원가입 구현
- 회원가입 폼/뷰/URL/템플릿 추가

[13] 회원가입 심플화
- 가입 필드 최소화(아이디/비밀번호/비밀번호확인)
- 불필요 help text 제거

[14] 관리자 승인 가입 정책
- 가입 시 is_active=False
- 자동 로그인 제거
- 로그인 페이지 승인 대기 메시지 표시

[15] 로그인 ID 위치 변경
- 사용자 아이디를 로고 옆에 배치

[16] 분류별 슬라이딩 보기
- 목록 슬라이더 적용 (후속 요청으로 변경)

[17] 목록 복원 + 상세 슬라이딩
- 목록은 원래 그리드로 복원
- 상세에서 같은 분류 이미지 슬라이딩 구현

[18] 이미지 추가/삭제/변경
- 업로드(추가) 유지
- /images/<id>/edit/ 수정 추가
- /images/<id>/delete/ 삭제 추가
- 작성자 또는 권한자만 수정/삭제 허용


3. 권한 및 운영 정책 요약
- 분류 관리 권한
  - 작성자 본인 또는 can_manage_all_categories
- 이미지 관리 권한
  - 작성자 본인 또는 can_manage_all_images
- 회원가입 정책
  - 가입 직후 비활성 계정 생성
  - 관리자 활성화 후 로그인 가능


4. 검증/마이그레이션 이력
- 검증: 변경 단계마다 python3 manage.py check 수행(이상 없음)
- 마이그레이션:
  - 0001_initial
  - 0002_category_imageitem_category
  - 0003_alter_category_options_category_created_by
  - 0004_alter_imageitem_options_imageitem_created_by


5. 현재 기능 체크리스트
[인증]
- 로그인/로그아웃
- 회원가입(관리자 승인 필요)

[이미지]
- 추가(업로드)
- 상세 보기(슬라이딩)
- 수정(제목/분류/이미지 파일)
- 삭제(확인 화면 포함)

[분류]
- 추가/수정/삭제
- 목록 필터

[UI]
- 공통 헤더 메뉴
- MIDASCM 무지개 로고
- 로그인 사용자 ID 로고 옆 표시


6. 파일 변경 범주 요약
- 모델: gallery/models.py
- 폼: gallery/forms.py
- 뷰: gallery/views.py
- URL: gallery/urls.py, config/urls.py
- 템플릿: gallery/templates/base.html 및 gallery/templates/gallery/*
- 마이그레이션: gallery/migrations/0001~0004


끝.
